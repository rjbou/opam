N0REP0
### # Needed for extra file check
### OPAMSTRICT=0
### opam switch create linting --empty
### : E65: URLs must be absolute
### <lint.opam>
opam-version: "2.0"
synopsis: "A word"
description: "Two words."
authors: "the testing team"
homepage: "egapemoh"
maintainer: "maint@tain.er"
license: "ISC"
dev-repo: "git+file://./../to@li.nt"
bug-reports: "https://nobug"
url {
  src:"file://./my/url/path"
  checksum: "md5=00000000000000000000000000000000"
  mirrors: [
    "file:///good/mirror"
    "file:///wrong/../mirror"
    "file:///another/./mirror/"
  ]
}
extra-source "relative" {
  src:"file:///my/./../extrasource/path"
  checksum: "md5=00000000000000000000000000000000"
}
extra-source "notrelative" {
  src:"file:///my/extrasource..path.patch"
  checksum: "md5=00000000000000000000000000000000"
}
pin-depends: [
  [ "pinned.1" "/my/../pinned/package" ]
]
### opam lint ./lint.opam
url                               |backend|relative|escapable|final
file://./my/url/path              |true   |true    |false    |true
file:///good/mirror               |true   |false   |false    |false
file:///wrong/../mirror           |true   |false   |true     |true
file:///another/./mirror/         |true   |false   |false    |false
git+file://./../to@li.nt          |true   |true    |true     |true
file:///my/./../extrasource/path  |true   |false   |true     |true
file:///my/extrasource..path.patch|true   |false   |false    |false
file:///my/../pinned/package      |true   |false   |true     |true
${BASEDIR}/lint.opam: Errors.
             error 65: URLs must be absolute: "./my/url/path", "/wrong/../mirror", "./../to@li.nt", "/my/./../extrasource/path", "/my/../pinned/package"
# Return code 1 #
